<!DOCTYPE html>
<html lang="ja">

<head>
    <!--文字コード・互換モード-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
    <title>テスト予定 | R7年度2学年総合ウェブサイト</title>
    <!--ビューポート-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--css-->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.2/css/all.css">
    <link rel="stylesheet" href="../notice/notice.css">
    <!--web情報-->
    <meta name="keywords" content="水戸一, 水戸一附属, 水戸一附属中, 一学年,">
    <meta name="description" content="水戸一附属中四期生向けの総合ウェブサイトです。附属中向けのテストの情報などを配信しています。">
    <meta name="author" content="©️ 2025 talus">
    <!--更新日時-->
    <meta name="date" content="2025-02-28">
    <meta name="creation_date" content="2025-02-19">
    <!--URL-->
    <link rel="canonical" href="https://talus-yujiro.github.io/two-grade-website/">
    <!--アイコン-->
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="../img/mitoichi-fuzoku-180x180.png" sizes="180x180">
    <!--windows-->
    <meta name="msapplication-config" content="none">
    <meta name="msapplication-TileImage" content="../img/mitoichi-fuzoku.png">
    <!--safari-->
    <link rel="mask-icon" href="">
    <!--Android-->
    <meta name="theme-color" content="#5787ff">
    <link rel="icon" type="image/png" href="../img/mitoichi-fuzoku-192x192.png" sizes="192x192">
    <!--CDN-->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.35.4"></script>
    <script src="../script/customAlert.js"></script>
    <!--マニフェスト-->
    <link rel="manifest" href="../manifest.json">
</head>

<body>
    <header>
        <h1>
            <a href="../">R7年度2学年総合ウェブサイト</a>
        </h1>
        <p class="header__breadcrumb">
            <a href="../">
                <i class="fa-solid fa-house"></i>トップページ</a>
            <a href="./">
                <i class="fa-solid fa-calendar-days"></i>テスト予定</a>
        </p>
    </header>
    <main>
        <h1>テスト予定</h1>
        <section>
            <h2>ページ概要</h2>
            <p>現在日程が決まっているテスト一覧です。</p>
            <p>テスト対策に活用ください。</p>
            <p>まだ未定であったり、日程が定まっていないものは掲載しておりません。</p>
        </section>
        <section>
            <h2>テスト一覧</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>教科</th>
                            <th>範囲</th>
                            <th>日程</th>
                            <th>提出物</th>
                            <th>備考</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>家庭科</td>
                            <td>教科書P108～121,127～129,134～136 学習ノートP2～9,15,18,19 配布プリントNo1～4</td>
                            <td>A 2025-07-09, B 2025-07-10</td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>R1</td>
                            <td>教科書P.2〜32　ワークP.2～10、23（1・2）27～28</td>
                            <td>2025-07-15</td>
                            <td>上記ワーク</td>
                            <td>R2と同時。ワーク提出は07/18まで</td>
                        </tr>
                        <tr>
                            <td>R2</td>
                            <td>教科書P.68～92　ワークP.30～59</td>
                            <td>2025-07-15</td>
                            <td>上記ワーク</td>
                            <td>R1と同時。ワーク提出は07/18まで</td>
                        </tr>
                        <tr>
                            <td>技術</td>
                            <td>ボイラー・リンク機構・ギア機構</td>
                            <td>2025-07-18</td>
                            <td></td>
                            <td>野球応援で早まる場合あり</td>
                        </tr>
                        <tr>
                            <td>国語</td>
                            <td>随筆</td>
                            <td>2025-07-25</td>
                            <td>新中問</td>
                            <td>新中問は夏休みの宿題</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </section>
    </main>
    <footer>
        <p>© 2025 talus</p>
        <p>※このサイトは学校非公認の個人が運営しているサイトです。学校側の問題に責任は取れませんのでご注意ください。</p>
        <p>
            <a href="https://www.mito1-jh.ibk.ed.jp" target="_blank" rel="noopener noreferrer">茨城県立水戸第一高等学校附属中学校HP</a>
        </p>
    </footer>
    <script type="module" src="../notice/notice.js"></script>
    <script src="../script/customAlert.js"></script>
    <script src="../script/verification.js"></script>
    <script>
        function parseDate(text) {
            const today = new Date();
            if (/^\d{4}-\d{2}-\d{2}$/.test(text)) {
                // ISO形式 (例: 2025-05-22)
                return new Date(text);
            } else if (/(\d+)月第(\d)週/.test(text)) {
                const match = text.match(/(\d+)月第(\d)週/);
                const month = parseInt(match[1], 10) - 1; // JavaScriptは0始まり
                const week = parseInt(match[2], 10);
                // 1日から開始して、週数を反映（だいたいの3日を足す）
                return new Date(today.getFullYear(), month, 1 + (week - 1) * 7 + 2);
            } else {
                return null;
            }
        }

        function findNearestTest() {
            const rows = document.querySelectorAll("table tbody tr");
            const today = new Date();
            let nearestRow = null;
            let nearestDate = null;

            rows.forEach(row => {
                const cells = row.querySelectorAll("td");
                const dateText = cells[2].textContent.trim();
                const parsedDate = parseDate(dateText);

                if (parsedDate && parsedDate >= today) {
                    if (!nearestDate || parsedDate < nearestDate) {
                        nearestDate = parsedDate;
                        nearestRow = row;
                    }
                }
            });

            if (nearestRow) {
                const subject = nearestRow.querySelectorAll("td")[0].textContent.trim();
                const item = nearestRow.querySelectorAll("td")[3].textContent.trim();
                console.log(`次の提出物（${subject}）: ${item || "（記載なし）"}`);
                localStorage.setItem("test-item", item);
                localStorage.setItem("next-test", nearestDate);
                localStorage.setItem("test-subject", subject)
            } else {
                console.log("これからのテストは見つかりませんでした。");
            }
        }

        findNearestTest();
    </script>
    <script data-goatcounter="https://talus.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</body>

</html>